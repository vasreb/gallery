(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(t,e,n){t.exports=n(36)},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},32:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),u=(n(25),n(26),n(27),n(1)),l=n(7),i=n(8),s=n(10),p=n(9),m=n(11),d=(n(32),"GET_PHOTOS_REQUEST"),h="GET_PHOTOS_SUCCESS",b="GET_PHOTOS_ERROR",f="OPEN_MODAL_PHOTO",v="CLOSE_MODAL_PHOTO";function O(t){return function(e){e({type:d}),fetch("https://jsonplaceholder.typicode.com/".concat(t)).then(function(t){return t.json()}).then(function(t){return e({type:h,payload:t})}).catch(function(t){return e({type:b,payload:t})})}}var E=function(t){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(i.a)(e,[{key:"shouldComponentUpdate",value:function(t){return t.currentAlbumId===this.props.albumId||this.props.currentAlbumId===this.props.albumId}},{key:"render",value:function(){var t=this.props,e=t.albumId,n=t.dispatch,a=t.currentAlbumId;return console.log("rerender"),r.a.createElement("div",{className:a===e?"album--selected album":"album",onClick:a!==e?function(){n(O("photos?albumId=".concat(e)))}:function(){}},r.a.createElement("h2",{className:"album__title"},"Album Id: ",e))}}]),e}(r.a.Component);var y=Object(u.b)(function(t){return{currentAlbumId:t.currentAlbumId}},function(t){return{dispatch:t}})(E);function _(t){var e=t.albums.map(function(t){return r.a.createElement("li",{className:"album-list__item",key:t.albumId},r.a.createElement(y,{albumId:t.albumId}))});return r.a.createElement("ul",{className:"album-list"},e)}n(33),n(34);var g=Object(u.b)(function(t){return{dispatch:t}})(function(t){var e=t.title,n=t.url,a=t.thumbnailUrl;return r.a.createElement("div",{className:"photo-card",onClick:function(){var a;t.dispatch((a={url:n,alt:e},{type:f,payload:Object.assign(a,{isOpen:!0})}))}},r.a.createElement("img",{className:"photo-card__img",src:a,alt:e}),r.a.createElement("p",{className:"photo-card__title"},e))}),I=function(t){function e(){return Object(l.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(O("photos?albumId=1"))}},{key:"render",value:function(){var t=this.props,e=t.isLoading,n=t.photos,a=n.map(function(t){return r.a.createElement("li",{key:t.id,className:"photo-list__item"},r.a.createElement(g,{id:t.id,title:t.title,url:t.url,thumbnailUrl:t.thumbnailUrl,albumId:t.albumId}))});return r.a.createElement("div",{className:"photo-list"},r.a.createElement("h2",{className:"photo-list__title"},e?"Photos are loading...":n[0]?"Album \u2116".concat(n[0].albumId):""),r.a.createElement("ul",{className:"photo-list__list"},a))}}]),e}(a.Component);var j=Object(u.b)(function(t){return{photos:t.photos,isLoading:t.isLoading}},function(t){return{dispatch:t}})(I),N=n(3);function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return[];case h:return[].concat(e.payload);case b:return[];default:return t}}function k(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case d:return!0;case h:case b:return!1;default:return t}}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return e.payload[0].albumId;default:return t}}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:"proptypesfix",alt:"proptypesfix"},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:case v:return Object.assign({},t,e.payload);default:return t}}var C=n(18),T=n.n(C),L=n(19),S=Object(N.c)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{photos:A(t.photos,e),isLoading:k(t.isLoading,e),currentAlbumId:w(t.currentAlbumId,e),currentPhoto:P(t.currentPhoto,e)}},Object(N.a)(L.a,T.a));n(35);for(var U=Object(u.b)(function(t){var e=t.currentPhoto;return{url:e.url,alt:e.alt,isOpen:e.isOpen}},function(t){return{dispatch:t}})(function(t){if(t.isOpen){var e=t.url,n=t.alt;return r.a.createElement("div",{className:"modal-photo",onClick:function(){t.dispatch({type:v,payload:{isOpen:!1}})}},r.a.createElement("img",{className:"modal-photo__img",src:e,alt:n}))}return""}),H=[],R=1;R<=100;R++)H.push({albumId:R});var x=function(){return r.a.createElement(u.a,{store:S},r.a.createElement("div",{className:"App"},r.a.createElement(_,{albums:H}),r.a.createElement(j,null),r.a.createElement(U,null)))};o.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.fae38c8d.chunk.js.map