{"version":3,"sources":["constants/constants.js","actions/fetchPhotos.js","components/Album/Album.jsx","actions/selectAlbum.js","containers/AlbumContainer.jsx","components/AlbumList/AlbumList.jsx","components/Photo/Photo.jsx","actions/openModalPhoto.js","components/PhotoList/PhotoList.jsx","containers/PhotoListContainer.jsx","reducers/photos.jsx","reducers/isLoading.jsx","reducers/currentAlbumId.jsx","reducers/currentPhoto.jsx","store/store.js","reducers/main.jsx","components/App/App.jsx","containers/ModalPhotoContainer.jsx","components/ModalPhoto/ModalPhoto.jsx","actions/closeModalPhoto.js","index.js"],"names":["GET_PHOTOS_REQUEST","GET_PHOTOS_SUCCESS","GET_PHOTOS_ERROR","OPEN_MODAL_PHOTO","CLOSE_MODAL_PHOTO","fetchPhotos","get_request","dispatch","type","fetch","concat","then","res","json","payload","catch","err","Album","_this$props","this","props","albumId","currentAlbumId","console","log","react_default","a","createElement","className","onClick","React","PureComponent","connect","state","AlbumList","AlbumsLis","albums","map","album","key","AlbumContainer","title","url","thumbnailUrl","photo","Object","assign","isOpen","src","alt","PhotoList","isLoading","photos","photoLis","id","Photo_Photo","Component","arguments","length","undefined","action","store","createStore","currentPhoto","applyMiddleware","thunk","logger","_state$currentPhoto","i","push","App","es","PhotoListContainer","ModalPhotoContainer","ReactDOM","render","components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.f525c277.chunk.js","sourcesContent":["const GET_PHOTOS_REQUEST = 'GET_PHOTOS_REQUEST';\r\nconst GET_PHOTOS_SUCCESS = 'GET_PHOTOS_SUCCESS';\r\nconst GET_PHOTOS_ERROR = 'GET_PHOTOS_ERROR';\r\nconst OPEN_MODAL_PHOTO = 'OPEN_MODAL_PHOTO';\r\nconst CLOSE_MODAL_PHOTO = 'CLOSE_MODAL_PHOTO';\r\n\r\nexport {\r\n    GET_PHOTOS_REQUEST, \r\n    GET_PHOTOS_SUCCESS,\r\n    GET_PHOTOS_ERROR,\r\n    OPEN_MODAL_PHOTO,\r\n    CLOSE_MODAL_PHOTO\r\n};","import {\r\n    GET_PHOTOS_REQUEST, \r\n    GET_PHOTOS_SUCCESS, \r\n    GET_PHOTOS_ERROR\r\n} from './../constants/constants';\r\n\r\nexport default function fetchPhotos(get_request) {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: GET_PHOTOS_REQUEST,\r\n        })\r\n        fetch(`https://jsonplaceholder.typicode.com/${get_request}`)\r\n        .then(res => res.json())\r\n        .then(res => dispatch({\r\n                type: GET_PHOTOS_SUCCESS,\r\n                payload: res\r\n            }))\r\n        .catch(err => dispatch({\r\n            type: GET_PHOTOS_ERROR,\r\n            payload: err\r\n        }))\r\n    }\r\n}","import React from 'react';\r\nimport './style.css';\r\nimport selectAlbum from './../../actions/selectAlbum';\r\n\r\nexport default class Album extends React.PureComponent {\r\n    render() {\r\n        const { albumId, dispatch, currentAlbumId } = this.props; \r\n        const albumChange = () => {\r\n            dispatch(selectAlbum(albumId));\r\n        }\r\n        console.log('rerender');\r\n        return (\r\n            <div \r\n            className={currentAlbumId === albumId ? 'album--selected album' : 'album'}\r\n            onClick={currentAlbumId !== albumId ? albumChange : () => {}}\r\n            >\r\n                <h2 className=\"album__title\">Album Id: {albumId}</h2>\r\n            </div>\r\n        )\r\n    }\r\n}","import fetchPhotos from './fetchPhotos';\r\n\r\nexport default function selectAlbum(index) {\r\n    return fetchPhotos(`photos?albumId=${index}`);\r\n}","import { connect } from 'react-redux';\r\nimport Album from '../components/Album/Album';\r\n\r\nfunction mapStateToProps (state) {\r\n    const {currentAlbumId} = state;\r\n    return {\r\n        currentAlbumId\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Album);","import React from 'react';\r\nimport './style.css';\r\nimport AlbumContainer from './../../containers/AlbumContainer';\r\n\r\nexport default function AlbumList(props) {\r\n    \r\n    const AlbumsLis = props.albums.map(album => \r\n    <li className=\"album-list__item\" key={album.albumId}>\r\n        <AlbumContainer albumId={album.albumId} />\r\n    </li>\r\n    )\r\n    return (\r\n        <ul className=\"album-list\">\r\n            {AlbumsLis}\r\n        </ul>\r\n    )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './style.css';\r\nimport openModalPhoto from './../../actions/openModalPhoto';\r\n\r\nfunction Photo(props) {\r\n    const {\r\n        title,\r\n        url,\r\n        thumbnailUrl\r\n    } = props;\r\n    const renderModalPhoto = () => {\r\n        props.dispatch(openModalPhoto({\r\n            url,\r\n            title\r\n        }))\r\n    }\r\n    return (\r\n        <div className=\"photo-card\" onClick={renderModalPhoto}>\r\n            <img className=\"photo-card__img\" src={thumbnailUrl} alt={title}/>\r\n            <p className=\"photo-card__title\">{title}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        dispatch\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapDispatchToProps\r\n)(Photo);","import {\r\n    OPEN_MODAL_PHOTO\r\n} from './../constants/constants';\r\n\r\nexport default function openModalPhoto(photo) {\r\n    return {\r\n        type: OPEN_MODAL_PHOTO,\r\n        payload: Object.assign(photo, {isOpen: true})\r\n    }\r\n}","import React from 'react';\r\nimport {Component} from 'react';\r\nimport './style.css';\r\nimport Photo from './../Photo/Photo';\r\nimport fetchPhotos from './../../actions/fetchPhotos';\r\n\r\nexport default class PhotoList extends Component {\r\n    componentDidMount() {\r\n        const { dispatch } = this.props;\r\n        dispatch(fetchPhotos('photos?albumId=1'));\r\n    }\r\n\r\n    render() {\r\n        const { isLoading, photos } = this.props;\r\n\r\n        const photoLis = this.props.photos.map(photo => \r\n        <li key={photo.id} className=\"photo-list__item\">\r\n            <Photo \r\n            id={photo.id} \r\n            title={photo.title}\r\n            url={photo.url}\r\n            thumbnailUrl={photo.thumbnailUrl}\r\n            albumId={photo.albumId}\r\n            />\r\n        </li>)\r\n\r\n        return (\r\n            <div className=\"photo-list\">\r\n                <h2 className=\"photo-list__title\">\r\n                {isLoading ? 'Photos are loading...' : photos[0] \r\n                ? `Album №${photos[0].albumId}` : ''}\r\n                </h2>\r\n                <ul className=\"photo-list__list\">\r\n                    {photoLis}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}","import { connect } from 'react-redux';\r\nimport PhotoList from './../components/PhotoList/PhotoList';\r\n\r\nfunction mapStateToProps (state) {\r\n    const {photos, isLoading} = state;\r\n    return {\r\n        photos,\r\n        isLoading\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(PhotoList);","import {\r\n    GET_PHOTOS_REQUEST, \r\n    GET_PHOTOS_SUCCESS,\r\n    GET_PHOTOS_ERROR\r\n} from './../constants/constants';\r\n\r\nexport default function photos(state=[], action) {\r\n    switch (action.type) {\r\n        case GET_PHOTOS_REQUEST:\r\n            return []\r\n        case GET_PHOTOS_SUCCESS:\r\n            return [].concat(action.payload)\r\n        case GET_PHOTOS_ERROR:\r\n            return []\r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n    GET_PHOTOS_REQUEST, \r\n    GET_PHOTOS_SUCCESS,\r\n    GET_PHOTOS_ERROR\r\n} from './../constants/constants';\r\n\r\nexport default function isLoading(state=false, action) {\r\n    switch (action.type) {\r\n        case GET_PHOTOS_REQUEST:\r\n            return true\r\n        case GET_PHOTOS_SUCCESS:\r\n            return false\r\n        case GET_PHOTOS_ERROR:\r\n            return false\r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n    GET_PHOTOS_SUCCESS,\r\n} from './../constants/constants';\r\n\r\nexport default function isLoading(state=1, action) {\r\n    switch (action.type) {\r\n        case GET_PHOTOS_SUCCESS:\r\n            return action.payload[0].albumId\r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n    OPEN_MODAL_PHOTO,\r\n    CLOSE_MODAL_PHOTO\r\n} from './../constants/constants';\r\n\r\nexport default function photos(state={}, action) {\r\n    switch (action.type) {\r\n        case OPEN_MODAL_PHOTO:\r\n            return Object.assign({}, state, action.payload)\r\n        case CLOSE_MODAL_PHOTO:\r\n            return Object.assign({}, state, action.payload)\r\n        default:\r\n            return state\r\n    }\r\n}","import { createStore, applyMiddleware  } from 'redux';\r\nimport main from '../reducers/main.jsx';\r\nimport logger from 'redux-logger';\r\nimport thunk from 'redux-thunk';\r\n\r\nlet store = createStore(main, applyMiddleware( thunk, logger ));\r\n\r\nexport default store;\r\n\r\n\r\n","import photos from './photos';\r\nimport isLoading from './isLoading';\r\nimport currentAlbumId from './currentAlbumId';\r\nimport currentPhoto from './currentPhoto';\r\n\r\nexport default function appReducer(state={}, action) {\r\n\treturn {\r\n        photos: photos(state.photos, action),\r\n        isLoading: isLoading(state.isLoading, action),\r\n        currentAlbumId: currentAlbumId(state.currentAlbumId, action),\r\n        currentPhoto: currentPhoto(state.currentPhoto, action)\r\n\t}\r\n}","import React from 'react';\nimport './App.css';\nimport AlbumList from './../AlbumList/AlbumList';\nimport PhotoListContainer from './../../containers/PhotoListContainer';\nimport { Provider } from 'react-redux';\nimport store from './../../store/store';\nimport ModalPhotoContainer from './../../containers/ModalPhotoContainer';\n\nconst albums = [];\n    for (let i = 1; i <= 100; i++) {\n        albums.push({albumId: i});\n  }\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <AlbumList albums={albums}/>\n        <PhotoListContainer />\n        <ModalPhotoContainer />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n\n\n","import { connect } from 'react-redux';\r\nimport ModalPhoto from './../components/ModalPhoto/ModalPhoto';\r\n\r\nfunction mapStateToProps (state) {\r\n    const { url, alt, isOpen } = state.currentPhoto;\r\n    return {\r\n        url,\r\n        alt,\r\n        isOpen\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(ModalPhoto);","import React from 'react';\r\nimport './style.css';\r\nimport closeModalPhoto from './../../actions/closeModalPhoto';\r\n\r\nexport default function ModalPhoto(props) {\r\n    const closeWindow = () => {\r\n        props.dispatch(closeModalPhoto());\r\n    }\r\n    if (props.isOpen) {\r\n        const {url, alt} = props;\r\n        return (\r\n            <div className=\"modal-photo\" onClick={closeWindow}> \r\n                <img className=\"modal-photo__img\" src={url} alt={alt}/>\r\n            </div>\r\n        )\r\n    } else return '';\r\n}\r\n\r\n","import {\r\n    CLOSE_MODAL_PHOTO\r\n} from './../constants/constants';\r\n\r\nexport default function closeModalPhoto() {\r\n    return {\r\n        type: CLOSE_MODAL_PHOTO,\r\n        payload: {isOpen: false}\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App.jsx';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}