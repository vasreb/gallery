(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(t,e,r){t.exports=r(36)},25:function(t,e,r){},26:function(t,e,r){},27:function(t,e,r){},32:function(t,e,r){},33:function(t,e,r){},34:function(t,e,r){},35:function(t,e,r){},36:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(5),c=r.n(o),l=(r(25),r(26),r(27),r(1)),i=r(7),u=r(8),s=r(10),p=r(9),m=r(11),d=(r(32),"GET_PHOTOS_REQUEST"),h="GET_PHOTOS_SUCCESS",b="GET_PHOTOS_ERROR",f="OPEN_MODAL_PHOTO",v="CLOSE_MODAL_PHOTO";function E(t){return function(e){e({type:d,payload:+t}),fetch("https://jsonplaceholder.typicode.com/photos?albumId=".concat(t)).then(function(t){return t.json()}).then(function(t){return e({type:h,payload:t})}).catch(function(t){return e({type:b,payload:t})})}}var O=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(u.a)(e,[{key:"shouldComponentUpdate",value:function(t){return t.currentAlbumId===this.props.albumId||this.props.currentAlbumId===this.props.albumId}},{key:"render",value:function(){var t=this.props,e=t.albumId,r=t.dispatch,n=t.currentAlbumId;return console.log("rerender"),a.a.createElement("div",{className:n===e?"album--selected album":"album",onClick:n!==e?function(){r(E(e))}:function(){}},a.a.createElement("h2",{className:"album__title"},"Album Id: ",e))}}]),e}(a.a.Component);var y=Object(l.b)(function(t){return{currentAlbumId:t.currentAlbumId}},function(t){return{dispatch:t}})(O);function _(t){var e=t.albums.map(function(t){return a.a.createElement("li",{className:"album-list__item",key:t.albumId},a.a.createElement(y,{albumId:t.albumId}))});return a.a.createElement("ul",{className:"album-list"},e)}r(33),r(34);var g=Object(l.b)(function(t){return{dispatch:t}})(function(t){var e=t.title,r=t.url,n=t.thumbnailUrl;return a.a.createElement("div",{className:"photo-card",onClick:function(){var n;t.dispatch((n={url:r,alt:e},{type:f,payload:Object.assign(n,{isOpen:!0})}))}},a.a.createElement("img",{className:"photo-card__img",src:n,alt:e}),a.a.createElement("p",{className:"photo-card__title"},e))}),I=function(t){function e(){var t,r;Object(i.a)(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(s.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).load=function(){var t=r.props;(0,t.dispatch)(E(t.currentAlbumId))},r}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.load()}},{key:"render",value:function(){var t=this.props,e=t.isLoading,r=t.photos,n=t.isError,o=t.currentAlbumId;if(n.isError)return a.a.createElement("div",{className:"photo-list"},a.a.createElement("h2",{className:"photo-list__title"},"Oops! This is error:"),a.a.createElement("p",{className:"photo-list__title--error"},n.error.toString()),a.a.createElement("h2",{className:"photo-list__title--button",onClick:this.load},"Press to try again"));var c=r.map(function(t){return a.a.createElement("li",{key:t.id,className:"photo-list__item"},a.a.createElement(g,{id:t.id,title:t.title,url:t.url,thumbnailUrl:t.thumbnailUrl,albumId:t.albumId}))});return a.a.createElement("div",{className:"photo-list"},a.a.createElement("h2",{className:"photo-list__title"},e?"Photos are loading...":r[0]?"Album \u2116".concat(o):""),a.a.createElement("ul",{className:"photo-list__list"},c))}}]),e}(n.Component);var j=Object(l.b)(function(t){return{photos:t.photos,isLoading:t.isLoading,isError:t.isError,currentAlbumId:t.currentAlbumId}},function(t){return{dispatch:t}})(I),N=r(3);function A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return[];case h:return[].concat(e.payload);case b:return[];default:return t}}function k(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case d:return!0;case h:case b:return!1;default:return t}}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return e.payload;default:return t}}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{url:"proptypesfix",alt:"proptypesfix"},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:case v:return Object.assign({},t,e.payload);default:return t}}function C(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return{isError:!1};case b:return{isError:!0,error:e.payload};case h:return{isError:!1};default:return t}}var T=r(18),S=r.n(T),L=r(19),U=Object(N.c)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{photos:A(t.photos,e),isLoading:k(t.isLoading,e),currentAlbumId:w(t.currentAlbumId,e),currentPhoto:P(t.currentPhoto,e),isError:C(t.isError,e)}},Object(N.a)(L.a,S.a));r(35);for(var H=Object(l.b)(function(t){var e=t.currentPhoto;return{url:e.url,alt:e.alt,isOpen:e.isOpen}},function(t){return{dispatch:t}})(function(t){if(t.isOpen){var e=t.url,r=t.alt;return a.a.createElement("div",{className:"modal-photo",onClick:function(){t.dispatch({type:v,payload:{isOpen:!1}})}},a.a.createElement("img",{className:"modal-photo__img",src:e,alt:r}))}return""}),R=[],x=1;x<=100;x++)R.push({albumId:x});var D=function(){return a.a.createElement(l.a,{store:U},a.a.createElement("div",{className:"App"},a.a.createElement(_,{albums:R}),a.a.createElement(j,null),a.a.createElement(H,null)))};c.a.render(a.a.createElement(D,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.bffe3507.chunk.js.map